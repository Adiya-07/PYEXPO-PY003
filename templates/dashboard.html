{% extends "base.html" %}

{% block content %}

<!-- Breadcrumb -->
<div class="breadcrumb">
    <a href="/">{% if language == 'ta' %}роорпБроХрокрпНрокрпБ{% else %}Home{% endif %}</a>
    <span class="breadcrumb-sep">тА║</span>
    <span class="breadcrumb-current">{% if language == 'ta' %}роОройродрпБ роЯро╛ро╖рпНрокрпЛро░рпНроЯрпБ{% else %}My Dashboard{% endif %}</span>
</div>

<!-- Dashboard Container -->
<section class="dashboard">
    <div class="dashboard-container">

        {% if not user_chart %}
        <!-- Empty State -->
        <div class="empty-state">
            <div class="empty-icon">ЁЯФо</div>
            <h2 class="empty-title">
                {% if language == 'ta' %}роЙроЩрпНроХро│рпН ро╡ро┐рогрпНро╡рпЖро│ро┐ рокропрогроорпН роХро╛родрпНродро┐ро░рпБроХрпНроХро┐ро▒родрпБ{% else %}Your Cosmic Journey Awaits{% endif %}
            </h2>
            <p class="empty-text">
                {% if language == 'ta' %}
                    роЙроЩрпНроХро│рпН рокро┐ро▒рокрпНрокрпБ ро╡ро┐ро╡ро░роЩрпНроХро│рпИ роЙро│рпНро│ро┐роЯрпНроЯрпБ родройро┐рокрпНрокропройро╛роХрпНроХрокрпНрокроЯрпНроЯ роЯро╛ро╖рпНрокрпЛро░рпНроЯрпИ ро╡рпЖро│ро┐рокрпНрокроЯрпБродрпНродрпБроЩрпНроХро│рпН
                {% else %}
                    Enter your birth details to unlock your personalized dashboard
                {% endif %}
            </p>
            <a href="/" class="empty-btn">
                {% if language == 'ta' %}родрпКроЯроЩрпНроХрпБроЩрпНроХро│рпН{% else %}Get Started{% endif %}
            </a>
        </div>

        {% else %}
        <!-- Dashboard Content -->
        
        <!-- Welcome Header -->
        <div class="dashboard-welcome">
            <h1 class="welcome-title">
                {% if language == 'ta' %}ро╡рогроХрпНроХроорпН, {{ profile.name if profile else 'ро╡ро┐рогрпНро╡рпЖро│ро┐ роЖройрпНрооро╛' }}{% else %}Welcome, {{ profile.name if profile else 'Cosmic Soul' }}{% endif %}
            </h1>
            <p class="welcome-subtitle">
                {% if language == 'ta' %}
                    роЙроЩрпНроХро│рпН родройро┐рокрпНрокропройро╛роХрпНроХрокрпНрокроЯрпНроЯ ро╡рпЗрод роЬрпЛродро┐роЯ роЯро╛ро╖рпНрокрпЛро░рпНроЯрпБ
                {% else %}
                    Your personalized Vedic astrology dashboard
                {% endif %}
            </p>
        </div>

        <!-- Main Grid Layout -->
        <div class="dashboard-grid">
            
            <!-- Left Column: Profile + Guidance -->
            <div class="left-column">
                
                <!-- Cosmic Profile Card - COMPACT -->
                <div class="profile-card">
                    <div class="profile-header">
                        <div class="profile-avatar">
                            {{ user_chart.rasi.symbol if user_chart.rasi.symbol else 'тЩС' }}
                        </div>
                        <div class="profile-info">
                            <h2 class="profile-name">{{ profile.name if profile else 'Cosmic Soul' }}</h2>
                            <p class="profile-meta">
                                {% if profile %}
                                    ЁЯУЕ {{ profile.dob }} тАв тП░ {{ profile.time }}
                                {% endif %}
                            </p>
                            <p class="profile-meta">
                                {% if profile %}
                                    ЁЯУН {{ profile.place }}
                                {% endif %}
                            </p>
                        </div>
                    </div>

                    <div class="profile-grid-compact">
                        <div class="profile-item-compact">
                            <div class="profile-label">{% if language == 'ta' %}ро░ро╛роЪро┐{% else %}Rasi{% endif %}</div>
                            <div class="profile-value">
                                {{ user_chart.rasi.tamil_name if language == 'ta' and user_chart.rasi.tamil_name else user_chart.rasi.tamilName if language == 'ta' else user_chart.rasi.english_name if user_chart.rasi.english_name else user_chart.rasi.englishName }}
                            </div>
                        </div>

                        <div class="profile-item-compact">
                            <div class="profile-label">{% if language == 'ta' %}роироЯрпНроЪродрпНродро┐ро░роорпН{% else %}Nakshatra{% endif %}</div>
                            <div class="profile-value">
                                {{ user_chart.nakshatra.tamil_name if language == 'ta' and user_chart.nakshatra.tamil_name else user_chart.nakshatra.tamilName if language == 'ta' else user_chart.nakshatra.name }}
                            </div>
                        </div>

                        <div class="profile-item-compact">
                            <div class="profile-label">{% if language == 'ta' %}рокро╛родроорпН{% else %}Pada{% endif %}</div>
                            <div class="profile-value">{{ user_chart.nakshatra.pada }}</div>
                        </div>

                        <div class="profile-item-compact">
                            <div class="profile-label">{% if language == 'ta' %}ро▓роХрпНройроорпН{% else %}Lagna{% endif %}</div>
                            <div class="profile-value">
                                {{ user_chart.lagna.tamil_name if language == 'ta' and user_chart.lagna.tamil_name else user_chart.lagna.tamilName if language == 'ta' else user_chart.lagna.english_name if user_chart.lagna.english_name else user_chart.lagna.englishName if user_chart.lagna.englishName else user_chart.lagna.name if user_chart.lagna.name else '-' }}
                            </div>
                        </div>

                        <div class="profile-item-compact">
                            <div class="profile-label">{% if language == 'ta' %}роЕродро┐рокродро┐{% else %}Lord{% endif %}</div>
                            <div class="profile-value">{{ user_chart.nakshatra.lord }}</div>
                        </div>

                        <div class="profile-item-compact">
                            <div class="profile-label">{% if language == 'ta' %}рокро╛ро▓ро┐ройроорпН{% else %}Gender{% endif %}</div>
                            <div class="profile-value">{{ profile.gender if profile else '-' }}</div>
                        </div>
                    </div>
                </div>

                <!-- Today's Guidance - COMPACT -->
                <div class="guidance-card">
                    <div class="guidance-header">
                        <span class="guidance-icon">ЁЯМЯ</span>
                        <h3 class="guidance-title">
                            {% if language == 'ta' %}роЗройрпНро▒рпИроп ро╡ро┤ро┐роХро╛роЯрпНроЯрпБродро▓рпН{% else %}Today's Guidance{% endif %}
                        </h3>
                    </div>
                    <p class="guidance-text">
                        {% if language == 'ta' %}
                            {{ user_chart.rasi.tamil_name if user_chart.rasi.tamil_name else user_chart.rasi.tamilName }} ро░ро╛роЪро┐ропро┐ройро░рпБроХрпНроХрпБ роЪро╛родроХрооро╛рой роиро╛ро│рпН. роирпАрогрпНроЯроХро╛ро▓ родро┐роЯрпНроЯрооро┐роЯро▓ро┐ро▓рпН роХро╡ройроорпН роЪрпЖро▓рпБродрпНродрпБроЩрпНроХро│рпН.
                        {% else %}
                            Favorable day for {{ user_chart.rasi.english_name if user_chart.rasi.english_name else user_chart.rasi.englishName }} natives. Focus on long-term planning.
                        {% endif %}
                    </p>
                    <div class="guidance-highlights">
                        <div class="highlight-item">
                            <span class="highlight-label">{% if language == 'ta' %}роЪро┐ро▒роирпНрод роирпЗро░роорпН{% else %}Best Time{% endif %}</span>
                            <span class="highlight-value">10:00 - 12:00</span>
                        </div>
                        <div class="highlight-item">
                            <span class="highlight-label">{% if language == 'ta' %}роХро╡ройроорпН{% else %}Focus{% endif %}</span>
                            <span class="highlight-value">{% if language == 'ta' %}родро┐роЯрпНроЯрооро┐роЯро▓рпН{% else %}Planning{% endif %}</span>
                        </div>
                    </div>
                </div>

            </div>

            <!-- Right Column: Quick Actions -->
            <div class="right-column">
                <h3 class="section-title-compact">
                    {% if language == 'ta' %}ро╡ро┐ро░рпИро╡рпБ роЪрпЖропро▓рпНроХро│рпН{% else %}Quick Actions{% endif %}
                </h3>
                
                <div class="actions-grid-compact">
                    <a href="/birthchart" class="action-card-compact">
                        <div class="action-icon-compact">ЁЯУК</div>
                        <div class="action-content">
                            <h4 class="action-title-compact">{% if language == 'ta' %}роорпБро┤рпБ роЬро╛родроХроорпН{% else %}Full Chart{% endif %}</h4>
                            <p class="action-desc-compact">{% if language == 'ta' %}ро╡ро┐ро░ро┐ро╡ро╛рой рокроХрпБрокрпНрокро╛ропрпНро╡рпБ{% else %}Detailed analysis{% endif %}</p>
                        </div>
                        <span class="action-arrow-compact">тЖТ</span>
                    </a>

                    <a href="/horoscope" class="action-card-compact">
                        <div class="action-icon-compact">ЁЯМЩ</div>
                        <div class="action-content">
                            <h4 class="action-title-compact">{% if language == 'ta' %}ро░ро╛роЪро┐рокро▓ройрпН{% else %}Horoscope{% endif %}</h4>
                            <p class="action-desc-compact">{% if language == 'ta' %}роЗройрпНро▒рпИроп рокро▓ройрпН{% else %}Today's reading{% endif %}</p>
                        </div>
                        <span class="action-arrow-compact">тЖТ</span>
                    </a>

                    <a href="/compatibility" class="action-card-compact">
                        <div class="action-icon-compact">ЁЯТХ</div>
                        <div class="action-content">
                            <h4 class="action-title-compact">{% if language == 'ta' %}рокрпКро░рпБродрпНродроорпН{% else %}Match{% endif %}</h4>
                            <p class="action-desc-compact">{% if language == 'ta' %}родро┐ро░рпБроорог роЪрпЛродройрпИ{% else %}Compatibility{% endif %}</p>
                        </div>
                        <span class="action-arrow-compact">тЖТ</span>
                    </a>

                    <a href="/predictions" class="action-card-compact">
                        <div class="action-icon-compact">ЁЯФо</div>
                        <div class="action-content">
                            <h4 class="action-title-compact">{% if language == 'ta' %}роорпБройрпНройро▒ро┐ро╡ро┐рокрпНрокрпБ{% else %}Predictions{% endif %}</h4>
                            <p class="action-desc-compact">{% if language == 'ta' %}7 роиро╛ро│рпН рокро▓ройрпН{% else %}7-day forecast{% endif %}</p>
                        </div>
                        <span class="action-arrow-compact">тЖТ</span>
                    </a>

                    <a href="/panchangam" class="action-card-compact">
                        <div class="action-icon-compact">ЁЯУЕ</div>
                        <div class="action-content">
                            <h4 class="action-title-compact">{% if language == 'ta' %}рокроЮрпНроЪро╛роЩрпНроХроорпН{% else %}Panchangam{% endif %}</h4>
                            <p class="action-desc-compact">{% if language == 'ta' %}рокрпБройро┐род роирпЗро░роорпН{% else %}Sacred timings{% endif %}</p>
                        </div>
                        <span class="action-arrow-compact">тЖТ</span>
                    </a>

                    <a href="/chat" class="action-card-compact">
                        <div class="action-icon-compact">ЁЯдЦ</div>
                        <div class="action-content">
                            <h4 class="action-title-compact">{% if language == 'ta' %}AI роЙро░рпИропро╛роЯро▓рпН{% else %}AI Chat{% endif %}</h4>
                            <p class="action-desc-compact">{% if language == 'ta' %}ML ро╡ро┤ро┐роХро╛роЯрпНроЯро┐{% else %}ML guidance{% endif %}</p>
                        </div>
                        <span class="action-arrow-compact">тЖТ</span>
                    </a>
                </div>
            </div>

        </div>

        <!-- Explore More - COMPACT -->
        <div class="explore-section-compact">
            <h3 class="section-title-compact">{% if language == 'ta' %}роорпЗро▓рпБроорпН роЖро░ро╛ропрпБроЩрпНроХро│рпН{% else %}Explore More{% endif %}</h3>
            
            <div class="explore-grid-compact">
                <a href="/cosmic-card" class="explore-item-compact">
                    <span class="explore-icon-compact">ЁЯО┤</span>
                    <span>{% if language == 'ta' %}рокро┐ро░рокроЮрпНроЪ роЕроЯрпНроЯрпИ{% else %}Cosmic Card{% endif %}</span>
                </a>

                <a href="/remedies" class="explore-item-compact">
                    <span class="explore-icon-compact">ЁЯХЙя╕П</span>
                    <span>{% if language == 'ta' %}рокро░ро┐роХро╛ро░роЩрпНроХро│рпН{% else %}Remedies{% endif %}</span>
                </a>

                <a href="/wellness" class="explore-item-compact">
                    <span class="explore-icon-compact">ЁЯМ┐</span>
                    <span>{% if language == 'ta' %}роиро▓рпНро╡ро╛ро┤рпНро╡рпБ{% else %}Wellness{% endif %}</span>
                </a>

                <a href="/quiz" class="explore-item-compact">
                    <span class="explore-icon-compact">тЬи</span>
                    <span>{% if language == 'ta' %}ро╡ро┐ройро╛роЯро┐{% else %}Quiz{% endif %}</span>
                </a>

                <a href="/finance" class="explore-item-compact">
                    <span class="explore-icon-compact">ЁЯТ░</span>
                    <span>{% if language == 'ta' %}роиро┐родро┐{% else %}Finance{% endif %}</span>
                </a>

                <a href="/videos" class="explore-item-compact">
                    <span class="explore-icon-compact">ЁЯУ║</span>
                    <span>{% if language == 'ta' %}ро╡рпАроЯро┐ропрпЛроХрпНроХро│рпН{% else %}Videos{% endif %}</span>
                </a>
            </div>
        </div>

        <!-- Share & Download Actions -->
        <div class="share-actions">
            <h3 class="share-title">
                {% if language == 'ta' %}рокроХро┐ро░ро╡рпБроорпН & рокродро┐ро╡ро┐ро▒роХрпНроХро╡рпБроорпН{% else %}Share & Download{% endif %}
            </h3>
            
            <div class="share-buttons">
                <a href="/api/download-chart-pdf" class="share-btn share-btn-primary" download>
                    <span class="share-btn-icon">ЁЯУД</span>
                    <span class="share-btn-text">
                        {% if language == 'ta' %}PDF рокродро┐ро╡ро┐ро▒роХрпНроХрпБ{% else %}Download PDF{% endif %}
                    </span>
                </a>

                <button class="share-btn share-btn-whatsapp" onclick="shareWhatsApp()">
                    <span class="share-btn-icon">ЁЯТм</span>
                    <span class="share-btn-text">
                        {% if language == 'ta' %}WhatsApp рокроХро┐ро░рпН{% else %}Share on WhatsApp{% endif %}
                    </span>
                </button>
            </div>
        </div>

        {% endif %}
    </div>
</section>

<style>
/* Breadcrumb */
.breadcrumb {
    max-width: 1400px;
    margin: 0 auto;
    padding: 0.8rem 2rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.85rem;
}

.breadcrumb a {
    color: rgba(255,255,255,0.5);
    text-decoration: none;
    transition: color 0.3s;
}

.breadcrumb a:hover {
    color: #FFD700;
}

.breadcrumb-sep {
    color: rgba(255,255,255,0.3);
}

.breadcrumb-current {
    color: #FFD700;
}

/* Dashboard */
.dashboard {
    padding: 1rem 2rem 3rem;
}

.dashboard-container {
    max-width: 1400px;
    margin: 0 auto;
}

/* Empty State */
.empty-state {
    text-align: center;
    padding: 6rem 2rem;
}

.empty-icon {
    font-size: 5rem;
    margin-bottom: 2rem;
    opacity: 0.7;
}

.empty-title {
    font-family: 'Cinzel', serif;
    font-size: 2rem;
    color: #FFD700;
    margin-bottom: 1rem;
}

.empty-text {
    color: rgba(255,255,255,0.6);
    margin-bottom: 2rem;
    max-width: 500px;
    margin-left: auto;
    margin-right: auto;
}

.empty-btn {
    display: inline-block;
    padding: 1rem 2.5rem;
    background: rgba(255,215,0,0.1);
    border: 1px solid rgba(255,215,0,0.3);
    border-radius: 8px;
    color: #FFD700;
    text-decoration: none;
    font-weight: 600;
    transition: all 0.3s;
}

.empty-btn:hover {
    background: rgba(255,215,0,0.15);
    border-color: #FFD700;
}

/* Welcome - COMPACT */
.dashboard-welcome {
    margin-bottom: 1.5rem;
}

.welcome-title {
    font-family: 'Cinzel', serif;
    font-size: 1.8rem;
    color: #FFFFFF;
    margin-bottom: 0.3rem;
}

.welcome-subtitle {
    color: rgba(255,255,255,0.5);
    font-size: 0.9rem;
}

/* Main Grid Layout */
.dashboard-grid {
    display: grid;
    grid-template-columns: 1fr 1.2fr;
    gap: 1.5rem;
    margin-bottom: 2rem;
}

/* Left Column */
.left-column {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

/* Profile Card - COMPACT */
.profile-card {
    background: rgba(255,255,255,0.04);
    border: 1px solid rgba(255,255,255,0.1);
    border-radius: 12px;
    padding: 1.5rem;
}

.profile-header {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 1.2rem;
    padding-bottom: 1.2rem;
    border-bottom: 1px solid rgba(255,255,255,0.1);
}

.profile-avatar {
    width: 60px;
    height: 60px;
    background: rgba(255,215,0,0.1);
    border: 2px solid rgba(255,215,0,0.3);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 2rem;
    flex-shrink: 0;
}

.profile-name {
    font-family: 'Cinzel', serif;
    font-size: 1.3rem;
    color: #FFD700;
    margin-bottom: 0.2rem;
}

.profile-meta {
    color: rgba(255,255,255,0.5);
    font-size: 0.8rem;
    margin-bottom: 0.2rem;
}

.profile-grid-compact {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 1rem;
}

.profile-item-compact {
    text-align: center;
}

.profile-label {
    font-size: 0.75rem;
    color: rgba(255,255,255,0.5);
    margin-bottom: 0.3rem;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.profile-value {
    font-size: 0.95rem;
    color: #FFFFFF;
    font-weight: 500;
}

/* Guidance Card - COMPACT */
.guidance-card {
    background: linear-gradient(135deg, rgba(255,215,0,0.08), rgba(255,140,0,0.04));
    border: 1px solid rgba(255,215,0,0.2);
    border-radius: 12px;
    padding: 1.3rem;
}

.guidance-header {
    display: flex;
    align-items: center;
    gap: 0.6rem;
    margin-bottom: 0.8rem;
}

.guidance-icon {
    font-size: 1.3rem;
}

.guidance-title {
    font-family: 'Cinzel', serif;
    font-size: 1.1rem;
    color: #FFD700;
}

.guidance-text {
    color: rgba(255,255,255,0.8);
    line-height: 1.6;
    margin-bottom: 1rem;
    font-size: 0.9rem;
}

.guidance-highlights {
    display: flex;
    gap: 2rem;
}

.highlight-item {
    display: flex;
    flex-direction: column;
    gap: 0.2rem;
}

.highlight-label {
    font-size: 0.7rem;
    color: rgba(255,255,255,0.5);
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.highlight-value {
    font-size: 0.85rem;
    color: #FFD700;
    font-weight: 600;
}

/* Right Column */
.right-column {
    display: flex;
    flex-direction: column;
}

.section-title-compact {
    font-family: 'Cinzel', serif;
    font-size: 1.1rem;
    color: rgba(255,255,255,0.9);
    margin-bottom: 1rem;
}

/* Actions Grid - COMPACT */
.actions-grid-compact {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1rem;
}

.action-card-compact {
    background: rgba(255,255,255,0.04);
    border: 1px solid rgba(255,255,255,0.1);
    border-radius: 10px;
    padding: 1.2rem 1rem;
    text-decoration: none;
    display: flex;
    align-items: center;
    gap: 0.8rem;
    transition: all 0.3s ease;
}

.action-card-compact:hover {
    transform: translateY(-3px);
    border-color: rgba(255,215,0,0.3);
    background: rgba(255,255,255,0.06);
}

.action-icon-compact {
    font-size: 2rem;
    flex-shrink: 0;
}

.action-content {
    flex: 1;
}

.action-title-compact {
    font-family: 'Cinzel', serif;
    font-size: 0.95rem;
    color: #FFD700;
    margin-bottom: 0.2rem;
}

.action-desc-compact {
    font-size: 0.75rem;
    color: rgba(255,255,255,0.5);
}

.action-arrow-compact {
    color: rgba(255,215,0,0.6);
    font-size: 1.2rem;
    transition: transform 0.3s;
}

.action-card-compact:hover .action-arrow-compact {
    transform: translateX(5px);
}

/* Explore Section - COMPACT */
.explore-section-compact {
    margin-top: 2rem;
}

.explore-grid-compact {
    display: grid;
    grid-template-columns: repeat(6, 1fr);
    gap: 0.8rem;
}

.explore-item-compact {
    background: rgba(255,255,255,0.03);
    border: 1px solid rgba(255,255,255,0.08);
    border-radius: 8px;
    padding: 0.9rem 0.6rem;
    text-decoration: none;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.4rem;
    font-size: 0.8rem;
    color: rgba(255,255,255,0.7);
    text-align: center;
    transition: all 0.3s ease;
}

.explore-item-compact:hover {
    background: rgba(255,255,255,0.05);
    border-color: rgba(255,215,0,0.2);
}

.explore-icon-compact {
    font-size: 1.5rem;
}

/* Share Actions */
.share-actions {
    margin-top: 2rem;
    padding: 1.5rem;
    background: rgba(255,255,255,0.03);
    border: 1px solid rgba(255,255,255,0.08);
    border-radius: 12px;
}

.share-title {
    font-family: 'Cinzel', serif;
    font-size: 1.1rem;
    color: rgba(255,255,255,0.9);
    margin-bottom: 1rem;
}

.share-buttons {
    display: flex;
    gap: 1rem;
    flex-wrap: wrap;
}

.share-btn {
    display: inline-flex;
    align-items: center;
    gap: 0.6rem;
    padding: 0.9rem 1.5rem;
    border-radius: 8px;
    font-size: 0.95rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    text-decoration: none;
    border: none;
    font-family: inherit;
}

.share-btn-primary {
    background: rgba(255,215,0,0.1);
    border: 1px solid rgba(255,215,0,0.3);
    color: #FFD700;
}

.share-btn-primary:hover {
    background: rgba(255,215,0,0.15);
    border-color: #FFD700;
    transform: translateY(-2px);
}

.share-btn-whatsapp {
    background: rgba(37,211,102,0.1);
    border: 1px solid rgba(37,211,102,0.3);
    color: #25D366;
}

.share-btn-whatsapp:hover {
    background: rgba(37,211,102,0.15);
    border-color: #25D366;
    transform: translateY(-2px);
}

.share-btn-icon {
    font-size: 1.2rem;
}

/* Responsive */
@media (max-width: 1024px) {
    .dashboard-grid {
        grid-template-columns: 1fr;
    }

    .actions-grid-compact {
        grid-template-columns: repeat(3, 1fr);
    }

    .explore-grid-compact {
        grid-template-columns: repeat(3, 1fr);
    }
}

@media (max-width: 768px) {
    .dashboard {
        padding: 1rem 1rem 2rem;
    }

    .profile-grid-compact {
        grid-template-columns: repeat(2, 1fr);
    }

    .actions-grid-compact {
        grid-template-columns: 1fr;
    }

    .explore-grid-compact {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .share-buttons {
        flex-direction: column;
    }
    
    .share-btn {
        width: 100%;
        justify-content: center;
    }
}
</style>

<script>
function shareWhatsApp() {
    {% if user_chart %}
    var rasiName = "{{ user_chart.rasi.english_name if user_chart.rasi.english_name else user_chart.rasi.englishName }}";
    var nakName = "{{ user_chart.nakshatra.name }}";
    var userName = "{{ profile.name if profile else 'User' }}";
    
    {% if language == 'ta' %}
    var message = "ЁЯМЯ роОройрпН роЬрпЛродро┐роЯ ро╡ро┐ро╡ро░роЩрпНроХро│рпН\n\n" +
                  "ЁЯСд рокрпЖропро░рпН: " + userName + "\n" +
                  "ЁЯМЩ ро░ро╛роЪро┐: " + rasiName + "\n" +
                  "тнР роироЯрпНроЪродрпНродро┐ро░роорпН: " + nakName + "\n\n" +
                  "AstroGuy AI роорпВро▓роорпН роЙро░рпБро╡ро╛роХрпНроХрокрпНрокроЯрпНроЯродрпБ\n" +
                  "ЁЯФЧ astroguy.ai";
    {% else %}
    var message = "ЁЯМЯ My Astrology Details\n\n" +
                  "ЁЯСд Name: " + userName + "\n" +
                  "ЁЯМЩ Rasi: " + rasiName + "\n" +
                  "тнР Nakshatra: " + nakName + "\n\n" +
                  "Generated by AstroGuy AI\n" +
                  "ЁЯФЧ astroguy.ai";
    {% endif %}
    
    var whatsappUrl = "https://wa.me/?text=" + encodeURIComponent(message);
    window.open(whatsappUrl, '_blank');
    {% else %}
    alert("{% if language == 'ta' %}роорпБродро▓ро┐ро▓рпН роЙроЩрпНроХро│рпН роЬро╛родроХродрпНродрпИ роЙро░рпБро╡ро╛роХрпНроХро╡рпБроорпН{% else %}Please generate your chart first{% endif %}");
    {% endif %}
}
</script>

{% endblock %}